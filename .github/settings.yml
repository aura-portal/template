repository:
  name: template
  description: Aura portal template
  homepage: https://github.com/aura-portal/template
  topics: aura, aura-portal, template
  private: false
  has_issues: false
  has_projects: false
  has_wiki: false
  has_downloads: false
  default_branch: main
  allow_squash_merge: true
  allow_merge_commit: true
  allow_rebase_merge: true
  delete_branch_on_merge: true
  enable_automated_security_fixes: true
  enable_vulnerability_alerts: true
teams:
  - name: aura-portal
    permission: admin
# branches:
#   - name: main
#     protection:
#       required_pull_request_reviews:
#         required_approving_review_count: 1
#         dismiss_stale_reviews: true
#         require_code_owner_reviews: true
#         dismissal_restrictions: null
#       required_status_checks:
#         strict: true
#         contexts: null
#       enforce_admins: true
#       required_linear_history: true
#       restrictions: null
rulesets:
  - name: Prevent destruction of the default branch
    target: branch
    enforcement: active
    conditions:
      ref_name:
        include:
          - "~DEFAULT_BRANCH"
        exclude: []
    rules:
      - type: deletion
      - type: non_fast_forward

  # - name: verification must pass
  #   target: branch
  #   enforcement: active
  #   conditions:
  #     ref_name:
  #       include:
  #         - "~DEFAULT_BRANCH"
  #       exclude: []
  #   rules:
  #     - type: required_status_checks
  #       parameters:
  #         strict_required_status_checks_policy: false # Required field
  #         required_status_checks:
  #           - context: test
  #             integration_id: 123456
  #   bypass_actors:
  #     - actor_id: 5
  #       actor_type: RepositoryRole
  #       bypass_mode: pull_request

  - name: Changes must be reviewed
    target: branch
    enforcement: active
    conditions:
      ref_name:
        include:
          - "~DEFAULT_BRANCH"
        exclude: []
    rules:
      - type: pull_request
        parameters:
          required_approving_review_count: 1
          require_code_owner_review: true
    bypass_actors:
     - actor_id: 1
       actor_type: OrganizationAdmin
       bypass_mode: pull_request
